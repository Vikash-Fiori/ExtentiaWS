sap.ui.define(["./BaseController","sap/ui/model/json/JSONModel","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/ui/core/Fragment","sap/ui/model/Sorter","sap/ui/Device","sap/ui/core/routing/History","sap/m/ColumnListItem","sap/m/Input","sap/ui/core/ValueState"],function(e,t,o,r,a,i,s,n,u,c,l){"use strict";return e.extend("com.agel.mmts.securityPerson-ScanQR.controller.QRDetails",{onInit:function(){var e=new t({busy:true,delay:0});this.setModel(e,"objectViewModel");this.oRouter=this.getRouter();this.oRouter.getRoute("QRCodeDetailPage").attachPatternMatched(this._onObjectMatched,this)},_onObjectMatched:function(e){},_bindView:function(e){var t=this.getViewModel("objectViewModel");this.getView().bindElement({path:e,events:{dataRequested:function(){t.setProperty("/busy",true)},dataReceived:function(){t.setProperty("/busy",false)}}})},onQRCodeSuggestionSelected:function(e){var t=this;var o=this.byId("idInputScanCode");var r=e.getSource().getSelectedKey();var a=e.getSource().getObjectBinding();e.getSource().setSelectedItem(e.getSource().getSelectedItem());if(r==""){o.setValueState(l.Error)}else{o.setValueState(l.None);this.onPressSubmitQRCode(a,o.getValue());t.getRouter().navTo("BarCodeDetailsPage",{QRCode:r})}},onPressSubmitQRCode:function(e,t){var o=this;var r=sap.ushell.Container.getService("UserInfo");var a=r.getId();var i=r.getEmail();i="venkatesh.hulekal@extentia.com";e.getParameterContext().setProperty("qr_number",t);e.getParameterContext().setProperty("user_id",a);e.getParameterContext().setProperty("email",i);e.execute().then(function(){},function(e){sap.m.MessageBox.alert(e.message,{title:"Error"})})}})});