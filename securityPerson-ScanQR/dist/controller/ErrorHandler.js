sap.ui.define(["sap/ui/base/Object","sap/m/MessageBox","sap/ui/model/Filter","sap/ui/model/FilterOperator"],function(e,s,t,a){"use strict";return e.extend("com.agel.mmts.securityPerson-ScanQR.controller.ErrorHandler",{constructor:function(e){var s=sap.ui.getCore().getMessageManager(),r=s.getMessageModel(),n=e.getModel("i18n").getResourceBundle(),i=n.getText("errorText"),o=n.getText("multipleErrorsText");e.setModel(r,"message");this._oComponent=e;this._bMessageOpen=false;this.oMessageModelBinding=r.bindList("/",undefined,[],new t("technical",a.EQ,true));this.oMessageModelBinding.attachChange(function(e){var t=e.getSource().getContexts(),a=[],r;if(this._bMessageOpen||!t.length){return}t.forEach(function(e){a.push(e.getObject())});s.removeMessages(a);r=a.length===1?i:o;var n=a[0].getTechnicalDetails().httpStatus;if(n===400){var g=new sap.ui.core.message.Message({message:a[0].message,type:a[0].type,target:"/Dummy"});sap.ui.getCore().getMessageManager().addMessages(g)}else{this._showServiceError(r,a[0].message)}},this)},_showServiceError:function(e,t){this._bMessageOpen=true;s.error(e,{id:"serviceErrorMessageBox",details:t,styleClass:this._oComponent.getContentDensityClass(),actions:[s.Action.CLOSE],onClose:function(){this._bMessageOpen=false}.bind(this)})}})});