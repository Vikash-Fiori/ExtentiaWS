sap.ui.define(["sap/ui/core/mvc/Controller","sap/ui/core/BusyIndicator"],function(e,t){"use strict";return e.extend("com.agel.mmts.returnmaterial.controller.BaseController",{getModel:function(e){return this.getOwnerComponent().getModel()},setModel:function(e){return this.getView().setModel(e)},getRouter:function(){return sap.ui.core.UIComponent.getRouterFor(this)},getResourceBundle:function(){return this.getOwnerComponent().getModel("i18n").getResourceBundle()},addContentDensityClass:function(){return this.getView().addStyleClass(this.getOwnerComponent().getContentDensityClass())},initializeFilterBar:function(){this._addSearchFieldAssociationToFB();this.oFilterBar=null;this.oFilterBar=this.byId("filterbar");this.oFilterBar.registerFetchData(this.fFetchData);this.oFilterBar.registerApplyData(this.fApplyData);this.oFilterBar.registerGetFiltersWithValues(this.fGetFiltersWithValues);this.oFilterBar.fireInitialise()},_addSearchFieldAssociationToFB:function(){let e=this.getView().byId("filterbar");let t=e.getBasicSearch();var r;if(!t){r=new sap.m.SearchField({id:"idSearch",showSearchButton:false,placeholder:"Search"});r.attachLiveChange(this.onFilterChange,this)}else{t=null}e.setBasicSearch(r);r.attachBrowserEvent("keyup",function(e){if(e.which===13){this.onSearch()}}.bind(this))},fFetchData:function(){var e;var t=[];var r;var i=this.getAllFilterItems(true);for(var a=0;a<i.length;a++){e={};r=null;if(i[a].getGroupName){r=i[a].getGroupName();e.groupName=r}e.name=i[a].getName();var n=this.determineControlByFilterItem(i[a]);if(n){e.value=n.getValue();t.push(e)}}return t},fApplyData:function(e){var t;for(var r=0;r<e.length;r++){t=null;if(e[r].groupName){t=e[r].groupName}var i=this.determineControlByName(e[r].name,t);if(i){i.setValue(e[r].value)}}},fGetFiltersWithValues:function(){var e;var t;var r=this.getFilterGroupItems();var i=[];for(e=0;e<r.length;e++){t=this.determineControlByFilterItem(r[e]);if(t&&t.getValue&&t.getValue()){i.push(r[e])}}return i}})});