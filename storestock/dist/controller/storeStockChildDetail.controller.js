sap.ui.define(["./BaseController","sap/ui/model/json/JSONModel","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/ui/core/Fragment","sap/ui/model/Sorter","sap/ui/Device","sap/ui/core/ValueState"],function(e,t,i,o,a,r,s,n){"use strict";return e.extend("com.agel.mmts.storestock.controller.storeStockChildDetail",{onInit:function(){this.getView().addEventDelegate({onAfterShow:this.onBeforeShow},this);var e=new t({busy:false,delay:0});this.setModel(e,"objectViewModel");this.oRouter=this.getRouter();this.oRouter.getRoute("storeStockChildDetail").attachPatternMatched(this._onObjectMatched,this)},_onObjectMatched:function(e){var t=e.getParameter("arguments").layout;var i=e.getParameter("arguments").parentMaterial;this._bindView("/StockParentItemSet"+i);this.getView().getModel("layoutModel").setProperty("/layout",t)},_bindView:function(e){var t=this.getViewModel("objectViewModel");var i=this;this.getView().bindElement({path:e,events:{dataRequested:function(){t.setProperty("/busy",true)},dataReceived:function(){t.setProperty("/busy",false)}}})},onSearch:function(e){var t=this.byId("idChildMaterialName").getValue();var a=this.byId("idChildMaterialCode").getValue();var r=[];var s=[];if(t!=""){r.push(new i("Name",o.EQ,t))}if(a!=""){r.push(new i("MaterialCode",o.EQ,a))}s.push(new i(r,false));var n=this.getView().byId("idStoreStockChildTable").getTable().getBinding("items");if(s.length>0){n.filter(new i(s,true))}},onCloseChildPage:function(e){this._showObject(e.getSource())},_showObject:function(e){var t=this;var i=e.getBindingContext().sPath;this.oRouter.navTo("RouteApp",{parentMaterial:1,layout:"OneColumn"},false);this.getView().getModel("layoutModel").setProperty("/layout","OneColumn")}})});