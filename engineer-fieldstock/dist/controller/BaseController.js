sap.ui.define(["sap/ui/core/mvc/Controller","sap/ui/model/json/JSONModel"],function(e,t){"use strict";return e.extend("com.agel.mmts.storestock.controller.BaseController",{getViewModel:function(e){return this.getView().getModel(e)},setModel:function(e,t){return this.getView().setModel(e,t)},getRouter:function(){return sap.ui.core.UIComponent.getRouterFor(this)},getResourceBundle:function(){return this.getOwnerComponent().getModel("i18n").getResourceBundle()},addContentDensityClass:function(){return this.getView().addStyleClass(this.getOwnerComponent().getContentDensityClass())},initializeFilterBar:function(){this._addSearchFieldAssociationToFB();this.oFilterBar=null;this.oFilterBar=this.byId("filterbar");this.oFilterBar.registerFetchData(this.fFetchData);this.oFilterBar.registerApplyData(this.fApplyData);this.oFilterBar.registerGetFiltersWithValues(this.fGetFiltersWithValues);this.oFilterBar.fireInitialise()},_addSearchFieldAssociationToFB:function(){let e=this.getView().byId("filterbar");let t=e.getBasicSearch();var i;if(!t){i=new sap.m.SearchField({id:"idSearch",showSearchButton:false,placeholder:"Search"});i.attachLiveChange(this.onFilterChange,this)}else{t=null}e.setBasicSearch(i);i.attachBrowserEvent("keyup",function(e){if(e.which===13){this.onSearch()}}.bind(this))},fFetchData:function(){var e;var t=[];var i;var r=this.getAllFilterItems(true);for(var a=0;a<r.length;a++){e={};i=null;if(r[a].getGroupName){i=r[a].getGroupName();e.groupName=i}e.name=r[a].getName();var n=this.determineControlByFilterItem(r[a]);if(n){e.value=n.getValue();t.push(e)}}return t},fApplyData:function(e){var t;for(var i=0;i<e.length;i++){t=null;if(e[i].groupName){t=e[i].groupName}var r=this.determineControlByName(e[i].name,t);if(r){r.setValue(e[i].value)}}},fGetFiltersWithValues:function(){var e;var t;var i=this.getFilterGroupItems();var r=[];for(e=0;e<i.length;e++){t=this.determineControlByFilterItem(i[e]);if(t&&t.getValue&&t.getValue()){r.push(i[e])}}return r}})});