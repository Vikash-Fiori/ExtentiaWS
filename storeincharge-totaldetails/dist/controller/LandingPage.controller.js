sap.ui.define(["./BaseController","sap/ui/model/json/JSONModel","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/ui/core/Fragment","sap/ui/model/Sorter","sap/ui/Device","sap/ui/core/routing/History","sap/m/ColumnListItem","sap/m/Input","sap/base/util/deepExtend","sap/ui/export/Spreadsheet","sap/m/MessageToast","sap/m/MessageBox","sap/m/ObjectIdentifier","sap/m/Text","sap/m/Button"],function(e,t,i,s,a,o,n,r,l,d,u,p,c,g,h,m,M){"use strict";return e.extend("com.agel.mmts.storeinchargetotaldetails.controller.LandingPage",{onInit:function(){this.getView().addEventDelegate({onAfterShow:this.onBeforeShow},this);var e=new t({busy:false,delay:0});this.setModel(e,"objectViewModel");this._createPODetailsModel();this.oRouter=this.getRouter();this.oRouter.getRoute("RouteLandingPage").attachPatternMatched(this._onObjectMatched,this)},_onObjectMatched:function(e){var t=this.getOwnerComponent().getComponentData().startupParameters;var i=t.ID[0];var s=t.Type[0];this._bindView("/PurchaseOrderSet"+i);this.getView().getModel("detailsModel").setProperty("/Type",s);if(s==="INTRANSIT"||s==="RECEIVED")this.getView().getModel("detailsModel").setProperty("/packingListTable",true);if(s==="INTRANSIT")this.getView().getModel("detailsModel").setProperty("/packingListItemFilter","DISPATCHED");else if(s==="RECEIVED")this.getView().getModel("detailsModel").setProperty("/packingListItemFilter","SAVED")},_createPODetailsModel:function(){var e=new t({Label:null,packingListTable:false,Type:null,packingListItemFilter:null});this.setModel(e,"detailsModel")},_bindView:function(e){var t=this.getViewModel("objectViewModel");var i=this;this.getView().bindElement({path:e,events:{dataRequested:function(){t.setProperty("/busy",true)},dataReceived:function(){t.setProperty("/busy",false)}}})},onChildTableUpdateStarted:function(e){e.getSource().setBusy(true)},onChildItemsTableUpdateFinished:function(e){e.getSource().setBusy(false)}})});